<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>PawShot Camera</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Round">
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
</head>
<body>
    <div class="app-container">
        <!-- Notch and Dynamic Island -->
        <div class="phone-notch">
            <div class="notch-container">
                <div class="notch">
                    <div class="notch-camera"></div>
                    <div class="dynamic-indicator"></div>
                </div>
            </div>
        </div>
        
        <!-- Camera Screen -->
        <div class="screen camera-screen">
            <!-- Viewfinder -->
            <div class="viewfinder-container">
                <video id="viewfinder" autoplay playsinline class="hidden"></video>
                <canvas id="photo-preview" class="hidden"></canvas>
                
                <!-- Camera UI Overlays -->
                <div class="camera-ui">
                    <!-- Top Controls -->
                    <div class="top-controls">
                        <button id="flash-toggle" class="control-button">
                            <span class="material-icons-round">flash_off</span>
                        </button>
                        
                        <button id="hdr-toggle" class="control-button">
                            <span>HDR</span>
                        </button>
                        
                        <button id="timer-toggle" class="control-button">
                            <span class="material-icons-round">timer</span>
                        </button>
                        
                        <div class="exposure-control">
                            <span class="material-icons-round">exposure</span>
                        </div>
                    </div>
                    
                    <!-- Zoom Controls -->
                    <div class="zoom-controls">
                        <div class="zoom-option" data-zoom="0.5x">0.5x</div>
                        <div class="zoom-option active" data-zoom="1x">1x</div>
                        <div class="zoom-option" data-zoom="2x">2x</div>
                        <div class="zoom-option" data-zoom="3x">3x</div>
                    </div>
                    
                    <!-- Quality Indicator -->
                    <div class="quality-indicator">
                        <span class="quality-icon">⚡</span>
                        <span class="quality-text">Ultra · 15 frames</span>
                    </div>
                    
                    <!-- Stack Counter -->
                    <div class="stack-counter">
                        <span>0/15</span>
                    </div>
                    
                    <!-- Exposure Indicator -->
                    <div class="exposure-indicator">+0</div>
                </div>
            </div>
            
            <!-- Bottom Controls -->
            <div class="bottom-controls">
                <!-- Filter Effects -->
                <div class="filter-carousel">
                    <div class="filter-effect active" data-filter="normal">
                        <div class="filter-preview"></div>
                        <span>Normal</span>
                    </div>
                    <div class="filter-effect" data-filter="mono">
                        <div class="filter-preview"></div>
                        <span>Mono</span>
                    </div>
                    <div class="filter-effect" data-filter="noir">
                        <div class="filter-preview"></div>
                        <span>Noir</span>
                    </div>
                    <div class="filter-effect" data-filter="fade">
                        <div class="filter-preview"></div>
                        <span>Fade</span>
                    </div>
                    <div class="filter-effect" data-filter="chrome">
                        <div class="filter-preview"></div>
                        <span>Chrome</span>
                    </div>
                    <div class="filter-effect" data-filter="process">
                        <div class="filter-preview"></div>
                        <span>Process</span>
                    </div>
                    <div class="filter-effect" data-filter="instant">
                        <div class="filter-preview"></div>
                        <span>Instant</span>
                    </div>
                    <div class="filter-effect" data-filter="warm">
                        <div class="filter-preview"></div>
                        <span>Warm</span>
                    </div>
                    <div class="filter-effect" data-filter="cool">
                        <div class="filter-preview"></div>
                        <span>Cool</span>
                    </div>
                    <div class="filter-effect" data-filter="vivid">
                        <div class="filter-preview"></div>
                        <span>Vivid</span>
                    </div>
                    <div class="filter-effect" data-filter="paws">
                        <div class="filter-preview"></div>
                        <span>Paws</span>
                    </div>
                </div>
                
                <!-- Camera Controls -->
                <div class="camera-controls">
                    <button id="gallery-button" class="control-button">
                        <div class="gallery-preview"></div>
                    </button>
                    
                    <button id="shutter-button">
                        <div class="shutter-button-inner"></div>
                    </button>
                    
                    <button id="switch-camera" class="control-button">
                        <span class="material-icons-round">flip_camera_ios</span>
                    </button>
                </div>
                
                <!-- Mode Selector -->
                <div class="mode-selector">
                    <div class="mode-option" data-mode="photo">PHOTO</div>
                    <div class="mode-option" data-mode="portrait">PORTRAIT</div>
                    <div class="mode-option" data-mode="stack">STACK</div>
                    <div class="active-indicator"></div>
                </div>
                
                <!-- Toggle Paw Mode -->
                <button id="toggle-paw-mode" class="paw-mode-button">
                    <span class="material-icons-round">pets</span>
                </button>
            </div>
        </div>
        
        <!-- Gallery Screen -->
        <div class="screen gallery-screen hidden">
            <div class="gallery-header">
                <button id="back-to-camera" class="header-button">
                    <span class="material-icons-round">arrow_back</span>
                </button>
                <h1>Gallery</h1>
                <button id="select-photos" class="header-button">
                    <span class="material-icons-round">check_box_outline_blank</span>
                </button>
            </div>
            
            <div class="gallery-grid"></div>
        </div>
        
        <!-- Edit Screen -->
        <div class="screen edit-screen hidden">
            <div class="edit-header">
                <button id="back-to-gallery" class="header-button">
                    <span class="material-icons-round">arrow_back</span>
                </button>
                <h1>Edit</h1>
                <button id="save-edit" class="header-button">
                    <span class="material-icons-round">check</span>
                </button>
            </div>
            
            <div class="edit-image-container">
                <img id="edit-image" src="" alt="Edit photo">
            </div>
            
            <div class="edit-controls">
                <div class="edit-filter-carousel">
                    <div class="edit-filter active" data-filter="normal">
                        <div class="filter-preview"></div>
                        <span>Normal</span>
                    </div>
                    <div class="edit-filter" data-filter="mono">
                        <div class="filter-preview"></div>
                        <span>Mono</span>
                    </div>
                    <div class="edit-filter" data-filter="noir">
                        <div class="filter-preview"></div>
                        <span>Noir</span>
                    </div>
                    <div class="edit-filter" data-filter="fade">
                        <div class="filter-preview"></div>
                        <span>Fade</span>
                    </div>
                    <div class="edit-filter" data-filter="chrome">
                        <div class="filter-preview"></div>
                        <span>Chrome</span>
                    </div>
                    <div class="edit-filter" data-filter="process">
                        <div class="filter-preview"></div>
                        <span>Process</span>
                    </div>
                    <div class="edit-filter" data-filter="instant">
                        <div class="filter-preview"></div>
                        <span>Instant</span>
                    </div>
                    <div class="edit-filter" data-filter="warm">
                        <div class="filter-preview"></div>
                        <span>Warm</span>
                    </div>
                    <div class="edit-filter" data-filter="cool">
                        <div class="filter-preview"></div>
                        <span>Cool</span>
                    </div>
                    <div class="edit-filter" data-filter="vivid">
                        <div class="filter-preview"></div>
                        <span>Vivid</span>
                    </div>
                    <div class="edit-filter" data-filter="paws">
                        <div class="filter-preview"></div>
                        <span>Paws</span>
                    </div>
                </div>
                
                <div class="edit-actions">
                    <button id="share-photo" class="edit-action-button">
                        <span class="material-icons-round">share</span>
                        <span>Share</span>
                    </button>
                    <button id="delete-photo" class="edit-action-button">
                        <span class="material-icons-round">delete</span>
                        <span>Delete</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Advanced Settings Modal -->
        <div class="settings-modal hidden">
            <div class="settings-header">
                <h2>Stack Settings</h2>
                <button id="close-settings" class="header-button">
                    <span class="material-icons-round">close</span>
                </button>
            </div>
            
            <div class="settings-content">
                <div class="settings-group">
                    <h3>Quality</h3>
                    <div class="quality-options">
                        <div class="quality-option" data-quality="standard">
                            <div class="option-icon">🔵</div>
                            <div class="option-label">Standard</div>
                            <div class="option-description">8 frames, balanced quality</div>
                        </div>
                        <div class="quality-option" data-quality="high">
                            <div class="option-icon">🟢</div>
                            <div class="option-label">High</div>
                            <div class="option-description">12 frames, improved detail</div>
                        </div>
                        <div class="quality-option" data-quality="ultra">
                            <div class="option-icon">⚡</div>
                            <div class="option-label">Ultra</div>
                            <div class="option-description">15 frames, maximum quality</div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-group">
                    <h3>Processing</h3>
                    <div class="slider-setting">
                        <label for="noise-reduction">Noise Reduction</label>
                        <input type="checkbox" id="noise-reduction" checked>
                    </div>
                    
                    <div class="slider-setting">
                        <label for="super-resolution">Super Resolution</label>
                        <input type="checkbox" id="super-resolution" checked>
                    </div>
                    
                    <div class="radio-setting">
                        <h4>Processing Speed</h4>
                        <div class="radio-options">
                            <label>
                                <input type="radio" name="processing" value="fast">
                                Fast
                            </label>
                            <label>
                                <input type="radio" name="processing" value="balanced" checked>
                                Balanced
                            </label>
                            <label>
                                <input type="radio" name="processing" value="quality">
                                Quality
                            </label>
                        </div>
                    </div>
                    
                    <div class="radio-setting">
                        <h4>Frame Alignment</h4>
                        <div class="radio-options">
                            <label>
                                <input type="radio" name="alignment" value="none">
                                None
                            </label>
                            <label>
                                <input type="radio" name="alignment" value="basic">
                                Basic
                            </label>
                            <label>
                                <input type="radio" name="alignment" value="auto" checked>
                                Auto
                            </label>
                        </div>
                    </div>
                </div>
                
                <button id="save-stack-settings" class="save-settings-button">Save Settings</button>
            </div>
        </div>
        
        <!-- Notification Toast -->
        <div class="notification-toast"></div>
    </div>
    
    <script src="app.js"></script>
    <script>
        // Service worker registration for PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(registration => {
                    console.log('ServiceWorker registration successful with scope:', registration.scope);
                })
                .catch(error => {
                    console.error('ServiceWorker registration failed:', error);
                });
        }
    </script>
</body>
</html>
